
<div class="create-event-container">
  <h2>Create a New Event</h2>
  <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
  <form [formGroup]="createEventForm" (ngSubmit)="createEvent()">
    <div>
      <label for="emId">Event Manager ID</label>
      <input id="emId" formControlName="emId" [value]="emId" readonly />
    </div>

    <div>
      <label for="email">Email</label>
      <input id="email" formControlName="email" [value]="email" readonly />
    </div>
    <div class="form-group">
      <label for="eventType">Event Type</label>
      <select id="eventType"
              formControlName="eventType"
              [class.invalid]="createEventForm.get('eventType')?.invalid && createEventForm.get('eventType')?.touched">
        <option value="" disabled>Select Event Type</option>
        <option value="Conference">Conference</option>
        <option value="concert">Concerts</option>
        <option value="workshop">Workshops</option>
        <option value="comedy">Comedy Show</option>
        <option value="adventure">Adventure Trips</option>
        <option value="FoodFestival">Food Festival</option>
        <option value="SocialAwareness">Social Activities</option>
        <option value="parks">Amusement Parks</option>
      </select>
      <div *ngIf="createEventForm.get('eventType')?.invalid && createEventForm.get('eventType')?.touched" class="error">
        Event type is required.
      </div>
    </div>
    <!-- Event Name -->
    <div class="form-group">
      <label for="eventName">Event Name</label>
      <input type="text"
             id="eventName"
             formControlName="eventName"
             [class.invalid]="createEventForm.get('eventName')?.invalid && createEventForm.get('eventName')?.touched">
      <div *ngIf="createEventForm.get('eventName')?.invalid && createEventForm.get('eventName')?.touched" class="error">
        Event name is required.
      </div>
    </div>

    <!-- Organizer -->
    <div class="form-group">
      <label for="organizer">Organizer</label>
      <input type="text"
             id="organizer"
             formControlName="organizer"
             [class.invalid]="createEventForm.get('organizer')?.invalid && createEventForm.get('organizer')?.touched">
      <div *ngIf="createEventForm.get('organizer')?.invalid && createEventForm.get('organizer')?.touched" class="error">
        Organizer is required.
      </div>
    </div>

    <!-- Event Date -->
    <div class="form-group">
      <label for="eventDate">Event Date</label>
      <input type="date"
             id="eventDate"
             formControlName="eventDate"
             [class.invalid]="createEventForm.get('eventDate')?.invalid && createEventForm.get('eventDate')?.touched">
      <div *ngIf="createEventForm.get('eventDate')?.errors?.required && createEventForm.get('eventDate')?.touched" class="error">
        Event date is required.
      </div>
      <div *ngIf="createEventForm.get('eventDate')?.errors?.futureDate && createEventForm.get('eventDate')?.touched" class="error">
        Event date must be in the future.
      </div>
    </div>


    <!-- Event Time -->
    <div class="form-group">
      <label for="eventTime">Event Time</label>
      <input type="time"
             id="eventTime"
             formControlName="eventTime"
             [class.invalid]="createEventForm.get('eventTime')?.invalid && createEventForm.get('eventTime')?.touched">
      <div *ngIf="createEventForm.get('eventTime')?.invalid && createEventForm.get('eventTime')?.touched" class="error">
        Event time is required.
      </div>
    </div>


    <!-- Location -->
    <div class="form-group">
      <label for="location">Location</label>
      <input type="text"
             id="location"
             formControlName="location"
             [class.invalid]="createEventForm.get('location')?.invalid && createEventForm.get('location')?.touched">
      <div *ngIf="createEventForm.get('location')?.invalid && createEventForm.get('location')?.touched" class="error">
        Location is required.
      </div>
    </div>

    <!-- Description -->
    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" formControlName="description"></textarea>
    </div>

    <!-- Ticket Price -->
    <div class="form-group">
      <label for="ticketPrice">Ticket Price</label>
      <input type="number"
             id="ticketPrice"
             formControlName="ticketPrice"
             [class.invalid]="createEventForm.get('ticketPrice')?.invalid && createEventForm.get('ticketPrice')?.touched">
      <div *ngIf="createEventForm.get('ticketPrice')?.invalid && createEventForm.get('ticketPrice')?.touched" class="error">
        Ticket price must be greater than 0.
      </div>
    </div>

    <!-- Max Attendees -->
    <div class="form-group">
      <label for="maxAttendees">Max Attendees</label>
      <input type="number"
             id="maxAttendees"
             formControlName="maxAttendees"
             [class.invalid]="createEventForm.get('maxAttendees')?.invalid && createEventForm.get('maxAttendees')?.touched">
      <div *ngIf="createEventForm.get('maxAttendees')?.invalid && createEventForm.get('maxAttendees')?.touched" class="error">
        Max attendees must be greater than 0.
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit" [disabled]="createEventForm.invalid">Create Event</button>
  </form>

  <!-- Display the Event ID after successful registration -->
  <div *ngIf="eventId" class="event-id">
    <h3>Event Created Successfully!</h3>
    <p>Your Event ID: <strong>{{ eventId }}</strong></p>
  </div>
</div>
